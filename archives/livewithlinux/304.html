<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="PureBuilder Simply WP Importer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="author" content="Masaki Haruka" />
    <meta name="date" content="2014-10-07T00:00:00+09:00" />
    <meta name="dcterms.date" content="2014-10-07T00:00:00+09:00" />
    <title>AMD APU Kaveri (A7700-K) * Linux - Chienomi</title>
    <style type="text/css">article {
max-width: 1080px;
margin: auto;
}</style>
  </head>
  <body>

    <section id="ContentContainer">
      <header id="MainHeader"><a href="/"><h1>Chienomi</h1></a></header>
      <section id="ArticleBox">
        <header id="ArticleTitle"><h1>AMD APU Kaveri (A7700-K) * Linux</h1></header>
        <article id="MainArticle">
<p>openSUSEのメーリングリストでご教示いただき、解決したので詳細を示そうと思う。</p><p>答はここに集約されている。今井さんによると</p><blockquote><p>Kaveri等のプロプラなドライバを必要とする奴は</p><p><tt class="puredoc_pathname">/etc/default/grub</tt>だったかの<samp>GRUB_CMDLINE_LINUX_DEFAULT="nomodeset"</samp>ってしておくのが良いようです。</p><p>これをやっとけばブートパラメータで必ず<tt class="puredoc_idname">nomodeset</tt>されますし。</p></blockquote><p>ほぼnomodesetで通る、ようだ。実際にやってみたところ、</p><ul><li>PCLinuxOS 2013.12 64bit KDE Fullmonty</li><li>Sabayon 14.01 KDE amd64</li><li>Linux Mint 16 x86_64</li><li>Korora20 x64_64</li><li>Chakra 2014.02 64bit</li></ul><p>のいずれも、通常起動ではGrubのあとはディスプレイ信号が消え、ディスクも停止し、反応もなくなるのだが、<tt class="puredoc_idname">nomodeset</tt>ならば正常に起動した。</p><p>ただし、PCLOSについてはXが起動せず、Chakraはsnmpd起動時にものすごく待たされるが、これは別の問題だ。PCLOSに関しては、ビデオドライバまたはカーネルによって解決することだろう。2013.12とやや古いことが、古いカーネルを使っているという問題になるのかもしれない。</p><p>さて、nomodesetとは何か？調べてみると、そのものズバリな答がArch Wikiにあった。</p><blockquote cite="https://wiki.archlinux.org/index.php/Kernel_Mode_Setting_%28%E6%97%A5%E6%9C%AC%E8%AA%9E%29"><p>Catalystドライバを使っているときなど、ブランクスクリーンになったりディスプレイに"no signal" エラーがでたりするなどの理由で KMSを無効にしたい時があるかもしれません。KMSを無効にするには、カーネルパラメータに nomodeset を追加します。詳しくは Kernel parameters (日本語) を見て下さい。 </p></blockquote><p>どうも、openSUSEで「NoKMS」オプションを選択することで起動できる、というのはこのあたりからきているようだ。</p><p>そしてMageiaの<tt class="puredoc_pathname">/boot/grub/menu.lst</tt>を見てみると、<tt class="puredoc_value">nokmsboot</tt>という値がある。しかし、<tt class="puredoc_value">nomodeset</tt>との違いは何かと思いそれを調べてみると大半はMageia関連の記事で、FedoraやArch, Gentooでもひっかかることはひっかかるもののはっきりしたことが分からない。カーネルのドキュメントを検索してもこれについてはヒットしない。結局それについてはよくわからないままとなった。</p><p>おそらくは起動時のみKMSを無効にするのだろうと想像はつくが、推測の域を出ない。</p><p>さて、<tt class="puredoc_value">nomodeset</tt>のブート時の指定方法だが、最近流行りのグラフィカルなものは大体legacy Grubのようだ。Fキーによってメニューを出すタイプだ。これは、F3を押して「起動オプション」を選択したあとESCで戻ると起動オプションが編集できるようになっている。値はスペース区切りなので、スペースで区切って<tt class="puredoc_value">nomodeset</tt>を追記してEnterキーで起動できる。eで起動オプション編集に行けないので戸惑う。もしかしたらもっとスマートな方法があるのかもしれない。</p><p>Grub2はeで編集に行くと複数行になっているので戸惑うが、<tt class="puredoc_idname">linux</tt>という行の最後に追加する。</p>
<!-- PBSEARCH_RESULT -->
        </article>
    </section>
    <footer id="InfoFooter">
      <ul>
        <li>© Masaki Haruka 2003.</li>
        <li>Generated by <a href="https://gitlab.com/reasonset/pbsimply-wpimporter">PureBuilder Simply WP Importer</a></li>
      </ul>
    </footer>
  </body>
</html>
