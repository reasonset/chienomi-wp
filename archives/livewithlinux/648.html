<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="PureBuilder Simply WP Importer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="author" content="Masaki Haruka" />
    <meta name="date" content="2015-06-21T00:00:00+09:00" />
    <meta name="dcterms.date" content="2015-06-21T00:00:00+09:00" />
    <title>Manjaro 0.8.13 セットアップ作業 part2 - Chienomi</title>
    <style type="text/css">article {
max-width: 1080px;
margin: auto;
}</style>
  </head>
  <body>

    <section id="ContentContainer">
      <header id="MainHeader"><a href="/"><h1>Chienomi</h1></a></header>
      <section id="ArticleBox">
        <header id="ArticleTitle"><h1>Manjaro 0.8.13 セットアップ作業 part2</h1></header>
        <article id="MainArticle">
<h3 id="パッケージの順次インストール">パッケージの順次インストール</h3>
<ul>
<li>umplayer-svn</li>
<li>kuickshow</li>
<li>gqview</li>
<li>chromium-pepper-flash</li>
<li>smtube</li>
<li>youtube-dl</li>
<li>atomicparsley</li>
<li>gnome-terminal</li>
<li>cutemarked</li>
<li>haroopad</li>
<li>screen</li>
<li>at</li>
<li>nemo-share</li>
<li>unbound</li>
</ul>
<p>screenは、<code>.zshrc</code>でSSH接続に対してscreenを呼んでいるので必要。</p>
<p>atはrsoftmirrorが使っているので必要。</p>
<p>Gnome Terminalは、Nemoが必要とするため(Gnome Terminalがないと、Nemoで「端末で開く」とした時に開くことができない)に導入した。</p>
<h3 id="ファイアウォール">ファイアウォール</h3>
<p>とりあえず、</p>
<pre><code># touch /etc/iptables/iptables.rules</code></pre>
<p>した上で</p>
<pre><code># iptables -P OUTPUT ACCEPT
# iptables -P FORWARD DROP
# iptables -N INCOMING
# iptables -A INCOMING -m state --state ESTABLISHED,RELATED -j ACCEPT
# iptables -A OUTPUT -o lo -j ACCEPT
# iptables -A INPUT -j INCOMING
# iptables -A INCOMING -p udp --dport 53 -j ACCEPT
# iptables -A INCOMING -p udp --dport 5353 -j ACCEPT
# iptables -A INPUT -p tcp --dport 22 -j ACCEPT
# iptables -P INPUT DROP
# iptables-save &gt; /etc/iptables/iptables-rules</code></pre>
<p>して</p>
<pre><code># systemctl start iptables</code></pre>
<p>だが、ルールがどうにも気に入らなかったので、結局gufwを使ってしまった。 なんとか早くnftをマスターしたいところではある。</p>
<h3 id="spamassasinのham学習">SpamAssasinのham学習</h3>
<p>Spamはだいたい固めてあるが、Hamは非常に広い階層にあるため、次のスクリプトで処理した。</p>
<pre><code>setopt EXTENDED_GLOB
integer ind

for i in ~/Mail/inbox/**/*~*/SystemMessage(#q/)
do
{
#  print $i
for j in &quot;$i&quot;/&lt;-&gt;(#q.[1,100])
do
	cp -v &quot;$j&quot; ~/tmp/ham/$(( ++ind ))
done
} always { TRY_BLOCK_ERROR=0 }
done</code></pre>
<p>これでMHフォルダ内にある全てのメールが集約できる (事前にspamは排除しておく必要あり) ため、あとはディレクトリをhamで学習させれば良い。</p>
<h3 id="マウスカーソルが歪む問題とcinnamon">マウスカーソルが歪む問題とCinnamon</h3>
<p>相変わらず出現する。XFceだと、それなりの頻度ででるようだ。 KDEに関してはそこまで使い続けたことがないため、出るかどうかは分からない。 KDE4では最も出現しやすかったが。</p>
<p>結局、UIが改善されたXFceでもKDEでもなく、Cinnamonに戻ることとなった。 LINEのフォント問題も、なぜかCinnamonで起動すると綺麗に表示される。</p>
<p>ちなみに、以前から感じていたことだが、Cinnamonのフォントレンダリングが異様に綺麗だ。 サブピクセルレンダリングの設定に関わらず。 これは一体なんなんだろう。</p>
<p>また、以前は機能しなかったCinnamonのスクリーンショット機能もきちんと動作した。 もしかして以前はGnome-Screenshotが入っていなかったりしたのだろうか。</p>
<p>Gnome-ScreenshootはXDG-PICTURES以下に自動で保存するため、ガンガン撮れる代わりに、ちゃんと分類しないと後で痛い目を見る。</p>
<p>Cinnamonに戻したため、またウィンドウショッピング(GUIの外観の設定)に時間を費やすこととなった。 壁紙を前回から引き継ぎ、黒ベースのテーマとしてかなり綺麗に仕上がった(以前はそもそも設定していなかった)のだが、そうするとウィンドウ色などを独自に定義するものとうまく噛み合わなかったりする。 Mikutterに関してはダークテーマに設定したが、Geanyが常に白背景に白字を使うのだが、にも関わらず入力中の部分についてはGTKのテキスト背景色を使う。ダークテーマだとテキスト背景色は黒に近いため、見えない。 変換するとシステムカラーになるため問題ないが…</p>
<p>結局、日本語テキストが多い場合は、meditを使う、というスタイルに戻ることになりそうだ。</p>
<p>マウスカーソルテーマでLCDテーマに青がないため、黒を使っているがテキストエリアでロストすることがちらほらあるのも残念。</p>

<!-- PBSEARCH_RESULT -->
        </article>
    </section>
    <footer id="InfoFooter">
      <ul>
        <li>© Masaki Haruka 2003.</li>
        <li>Generated by <a href="https://gitlab.com/reasonset/pbsimply-wpimporter">PureBuilder Simply WP Importer</a></li>
      </ul>
    </footer>
  </body>
</html>
